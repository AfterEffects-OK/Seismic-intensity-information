
地震情報トラッカー アプリケーション仕様書・操作マニュアル
1. 概要
このアプリケーションは、P2P地震情報APIから直近の地震情報を取得し、最大震度3以上の地震を一覧で表示・管理するためのツールです。 地震が選択されると、画面下部の固定情報バーに配信画面で利用できる形式の地震情報を表示し、自動でページ送り再生する機能を備えています。

2. 主な機能
地震情報の一覧表示: 最新の地震情報（最大震度3以上）をリスト形式で表示します。
地震詳細の確認: リストから地震を選択すると、震源地、マグニチュード、各地の震度などの詳細情報を確認できます。
表示モード切替: 詳細情報の観測地点を「市区町村別」または「観測点別」で切り替えられます。
配信向け情報バー: 画面下部に固定表示される情報バーで、選択した地震の情報をテロップ形式で表示します。
自動ページ送り: 情報バーの表示内容を、設定した秒数・回数で自動的に再生します。
各種カスタマイズ: 再生/停止のショートカットキーや、情報バーの表示内容（最低震度）などを設定できます。
3. 画面構成と操作方法
画面は大きく分けて「①メイン画面」と「②固定情報バー」の2つのエリアで構成されています。

3.1. メイン画面
メイン画面は、左側の「地震一覧パネル」と右側の「地震詳細パネル」に分かれています。

① 地震一覧パネル（左側）
機能: 条件に合う地震を新しい順に一覧表示します。
操作:
API更新: 右上のAPI更新ボタンをクリックすると、最新の地震情報を手動で取得します。
地震の選択: リスト内の地震カードをクリックすると、その地震が選択され、右側の詳細パネルと下部の固定情報バーに情報が反映されます。選択されたカードは青くハイライトされます。
② 地震詳細パネル（右側）
機能: 選択された地震の詳細情報を表示します。
表示項目:
震源地、最大震度
発生日時、マグニ-チュード、震源の深さ
津波に関する情報
震度別の観測地点リスト
操作:
表示切替スイッチ: 右上のトグルスイッチで、観測地点の表示を「市区町村別」と「観測点別」で切り替えることができます。
市区町村別 (デフォルト): 同じ市区町村の複数の観測点は1つにまとめて表示します。
観測点別: 全ての観測点名を個別に表示します。
3.2. ② 固定情報バー（画面下部）
配信ソフトウェア（OBSなど）での利用を想定した情報表示エリアです。左側の「操作パネル」と右側の「コンテンツ表示エリア」に分かれています。

操作パネル（左側）
地震をリストから選択すると、各種操作ボタンが表示されます。

コントロール	説明
時間設定	自動ページ送りの1ページあたりの表示時間（秒）を設定します。
ループ回数設定	自動ページ送りを何回繰り返すかを設定します。∞を選択すると無限ループします。
前へ/次へボタン	◀ ▶ ボタンで、表示する情報ページを手動で切り替えます。
ページ情報	現在ページ / 全ページ とループ回数 L:現在のループ/総ループ を表示します。
再生/停止ボタン	▶ ■ ボタンで、自動ページ送りを開始/停止します。
トランジション	ページ切り替え時のエフェクトを「カット」または「スライド」から選択します。
リセットボタン	自動再生を停止し、情報バーの表示をクリアします。
設定ボタン (キーボードアイコン)	クリックすると、ショートカットキーや表示する最低震度を設定するモーダルが開きます。
コンテンツ表示エリア（右側）
機能: 選択された地震の情報を、テロップとして表示します。背景は透明（グリーンバックでの利用を想定）になっており、テキストには黒い縁取りがついています。
表示内容:
概況: 発生時刻、震源地、最大震度、マグニチュードなど。
津波情報: 津波警報・注意報の有無や津波の心配がない旨のメッセージ。
各地の震度: 設定された最低震度以上の観測地点を、震度ごとにまとめて表示します。
4. 自動再生（ページ送り）の仕様
▶（再生）ボタンを押すか、設定したショートカットキーを使用すると自動再生が開始します。
最初に「地震情報」という開始ページが指定秒数表示されます。
その後、概況、津波情報、各地の震度情報が順番にページ送りで表示されます。
すべてのページが表示されると1ループが完了です。設定されたループ回数に達するまで、1.から繰り返します。
ループが完了すると、「地震情報 終」という終了ページが表示され、一定時間後に表示がクリアされます。
■（停止）ボタンを押すか、リセットボタンを押すと、いつでも再生を中断できます。
5. 設定
設定ボタン（キーボードアイコン）から、以下の項目をカスタマイズできます。設定はブラウザに保存されます。

再生/停止ショートカット: 自動再生を開始/停止するためのキーボードショートカットを登録します。
情報画面に表示する最低震度: 固定情報バーの「各地の震度」で、表示対象とする最低震度を設定します。（例: 「震度4以上」に設定すると、震度3の地域は表示されなくなります）
6. API仕様
使用API: P2P地震情報 API v2
取得エンドポイント: https://api.p2pquake.net/v2/history
取得対象: 震度情報 (code: 551), 津波情報 (code: 552)
更新頻度:
自動: 2分ごとに自動でAPIをポーリングし、新しい地震があればリストを更新します。
手動: API更新ボタンでいつでも更新可能です。
表示フィルタ: APIから取得したデータのうち、earthquake.maxScaleが30（震度3）以上の地震のみをリストに表示します。
